{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\jakub\\\\Desktop\\\\appmain\\\\project1\\\\MovieSearcher\\\\frontend\\\\src\\\\components\\\\Pages\\\\Login\\\\Login.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { useState } from 'react';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction LoginForm({\n  onLogin\n}) {\n  _s();\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n  const handleSubmit = async e => {\n    e.preventDefault();\n    try {\n      const response = await axios.post('/login', {\n        username,\n        password\n      });\n      const {\n        access_token,\n        refresh_token\n      } = response.data;\n      localStorage.setItem('access_token', access_token);\n      localStorage.setItem('refresh_token', refresh_token);\n      onLogin();\n    } catch (error) {\n      console.error('Login failed:', error);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    onSubmit: handleSubmit,\n    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n      children: [\"Username:\", /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        value: username,\n        onChange: e => setUsername(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 28,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      children: [\"Password:\", /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"password\",\n        value: password,\n        onChange: e => setPassword(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"submit\",\n      children: \"Login\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 25,\n    columnNumber: 5\n  }, this);\n}\n_s(LoginForm, \"wuQOK7xaXdVz4RMrZQhWbI751Oc=\");\n_c = LoginForm;\nfunction LogoutButton({\n  onLogout\n}) {\n  const handleLogout = async () => {\n    try {\n      await axios.post('http://localhost:3001/logout', {\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem('access_token')}`\n        }\n      });\n      localStorage.removeItem('access_token');\n      localStorage.removeItem('refresh_token');\n      onLogout();\n    } catch (error) {\n      console.error('Logout failed:', error);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"button\", {\n    onClick: handleLogout,\n    children: \"Logout\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 10\n  }, this);\n}\n_c2 = LogoutButton;\nfunction App() {\n  _s2();\n  const [loggedIn, setLoggedIn] = useState(false);\n  const handleLogin = () => {\n    setLoggedIn(true);\n  };\n  const handleLogout = () => {\n    setLoggedIn(false);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: loggedIn ? /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Welcome! You are logged in.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(LogoutButton, {\n        onLogout: handleLogout\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(LoginForm, {\n        onLogin: handleLogin\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 70,\n    columnNumber: 5\n  }, this);\n}\n_s2(App, \"rumETxDPcQWJcg8a6Y55ZSVDz7g=\");\n_c3 = App;\nexport default Login;\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"LoginForm\");\n$RefreshReg$(_c2, \"LogoutButton\");\n$RefreshReg$(_c3, \"App\");","map":{"version":3,"names":["React","useState","axios","jsxDEV","_jsxDEV","LoginForm","onLogin","_s","username","setUsername","password","setPassword","handleSubmit","e","preventDefault","response","post","access_token","refresh_token","data","localStorage","setItem","error","console","onSubmit","children","type","value","onChange","target","fileName","_jsxFileName","lineNumber","columnNumber","_c","LogoutButton","onLogout","handleLogout","headers","Authorization","getItem","removeItem","onClick","_c2","App","_s2","loggedIn","setLoggedIn","handleLogin","_c3","Login","$RefreshReg$"],"sources":["C:/Users/jakub/Desktop/appmain/project1/MovieSearcher/frontend/src/components/Pages/Login/Login.js"],"sourcesContent":["import React, { useState } from 'react';\nimport axios from 'axios';\n\nfunction LoginForm({ onLogin }) {\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    try {\n      const response = await axios.post('/login', {\n        username,\n        password\n      });\n      const { access_token, refresh_token } = response.data;\n      localStorage.setItem('access_token', access_token);\n      localStorage.setItem('refresh_token', refresh_token);\n      onLogin();\n    } catch (error) {\n      console.error('Login failed:', error);\n    }\n  };\n\n  return (\n    <form onSubmit={handleSubmit}>\n      <label>\n        Username:\n        <input type=\"text\" value={username} onChange={(e) => setUsername(e.target.value)} />\n      </label>\n      <label>\n        Password:\n        <input type=\"password\" value={password} onChange={(e) => setPassword(e.target.value)} />\n      </label>\n      <button type=\"submit\">Login</button>\n    </form>\n  );\n}\n\nfunction LogoutButton({ onLogout }) {\n  const handleLogout = async () => {\n    try {\n      await axios.post('http://localhost:3001/logout', {\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem('access_token')}`\n        }\n      });\n      localStorage.removeItem('access_token');\n      localStorage.removeItem('refresh_token');\n      onLogout();\n    } catch (error) {\n      console.error('Logout failed:', error);\n    }\n  };\n\n  return <button onClick={handleLogout}>Logout</button>;\n}\n\nfunction App() {\n  const [loggedIn, setLoggedIn] = useState(false);\n\n  const handleLogin = () => {\n    setLoggedIn(true);\n  };\n\n  const handleLogout = () => {\n    setLoggedIn(false);\n  };\n\n  return (\n    <div>\n      {loggedIn ? (\n        <div>\n          <h1>Welcome! You are logged in.</h1>\n          <LogoutButton onLogout={handleLogout} />\n        </div>\n      ) : (\n        <div>\n          <h1>Login</h1>\n          <LoginForm onLogin={handleLogin} />\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default Login;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}